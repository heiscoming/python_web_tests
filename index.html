<html ng-app="YmapsDemo">
<head>
    <title>Yandex Maps API as an Angular JS direcitive</title>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/css/bootstrap.min.css">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.min.js"></script>
	<script src="angular-ymaps.js"></script>
	<script src="app.js"></script>
	<style type="text/css">
		.map_container {
	    	height: 100%;
		}
		html, body {
		    width: 100%;
		    height: 100%;
		}
		yandex-map {
		    display: block;
		}
	</style>
</head>

<body ng-controller="MapCtrl">
<div class="demo_content clearfix">
    <div class="controls col-sm-4">
        <table class="table"><thead>
        <tr>
            <th>#</th><th>Широта</th><th>Долгота</th><th></th>
        </tr>
        </thead><tbody>
        <tr ng-repeat="marker in markers">
            <td>{{$index+1}}</td>
            <td><input type="text" ng-model="marker.coordinates[0]" class="form-control" /></td>
            <td><input type="text" ng-model="marker.coordinates[1]" class="form-control" /></td>
            <td><button type="button" class="close" ng-click="removeMarker(marker.coordinates[2])">&times;</button></td>
        </tr>
        <tr ng-show="addingMarker">
            <td>*</td>
            <td><input type="text" ng-model="markerLat" placeholder="Lat" class="form-control" required /></td>
            <td><input type="text" ng-model="markerLon" placeholder="Lon" class="form-control" required /></td>
            <td><button type="button" class="close" ng-click="submitMarker(markerLat, markerLon)" title="Добавить">+</button></td>
        </tr>
        </tbody></table>
        <button type="button" class="btn btn-default btn-block add_button" ng-hide="addingMarker"
                ng-click="addMarker()">Добавить маркер</button>
        <button type="button" class="btn btn-danger btn-block add_button"
                ng-click="deleteAll()">Удалить все маркеры</button>
    </div>
    <yandex-map class="map_container col-sm-8" center="[25.700938, 7.03125]" fitMarkers="False" zoom="2">
        <ymap-marker coordinates="marker.coordinates" index="$index+1" ng-repeat="marker in markers"></ymap-marker>
    </yandex-map>
</div>
</body>